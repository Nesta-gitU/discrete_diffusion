# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  #-/model/components@diffusion.affine: forward_process.yaml
  
  - override /data: text8
  - override /model: language_diff_module
  - override /callbacks: default
  - override /trainer: gpu
  
  

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

tags: ["text8", "dit", "basic_diffusion"]

seed: 12345

trainer:
  limit_train_batches: 2000
  limit_val_batches: 1
  limit_test_batches: 1
  max_epochs: 1
  accumulate_grad_batches: 4
  

model:
  diffusion:
    affine:
      _target_: src.models.components.forward_process.FM_OT
      model: none
      
  compute_diffusion_loss: true
  compute_prior_loss: false
  compute_reconstruction_loss: true
  reconstruction_loss_type: diff_anchor
  enable_matmul_tf32: false
  enable_cudnn_tf32: false

logger:
  wandb:
    tags: ${tags}
    group: "text8"
  aim:
    experiment: "text8test"
